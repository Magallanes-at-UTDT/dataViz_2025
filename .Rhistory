set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
# Assign colors to groups (customize as needed)
word_data <- word_data %>%
mutate(
color = case_when(
change_category == '1_big_decrease' ~ "#E6E6FA",  # Light purple (smallest)
change_category == '2_small_decrease' ~ "#ADD8E6",  # Light blue
change_category == '3_no_change' ~ "#90EE90",  # Light green
change_category == '4_small_improvement' ~ "#FFB6C1",  # Light pink
change_category == '5_big_improvement' ~ "#FFA07A"   # Light salmon (largest)
)
)
ggplot(
word_data,
aes(
label = word,
size = size,
color = color  # Color by group
)
) +
geom_text_wordcloud_area(          # Uses size to scale words
eccentricity = 1,                # Roundness (1 = circle)
shape = "circle"                 # Try "diamond", "triangle", etc.
) +
scale_size_area(max_size = 15) +   # Adjust max word size
scale_color_identity() +           # Use literal color values
theme_minimal() +                  # Clean background
labs(title = "Country Word Cloud (Colored by Group)") +
theme(plot.title = element_text(hjust = 0.5, face = "bold"))
View(word_data)
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
# Assign colors to groups (customize as needed)
word_data <- word_data %>%
mutate(
color = case_when(
change_category == '1_big_decrease' ~ "#E6E6FA",  # Light purple (smallest)
change_category == '2_small_decrease' ~ "#ADD8E6",  # Light blue
change_category == '3_no_change' ~ "#90EE90",  # Light green
change_category == '4_small_improvement' ~ "#FFB6C1",  # Light pink
change_category == '5_big_improvement' ~ "#FFA07A"   # Light salmon (largest)
)
)
View(word_data)
ggplot(
word_data,
aes(
label = word,
size = ratio_2023_2006,
color = color  # Color by group
)
) +
geom_text_wordcloud_area(          # Uses size to scale words
eccentricity = 1,                # Roundness (1 = circle)
shape = "circle"                 # Try "diamond", "triangle", etc.
) +
scale_size_area(max_size = 15) +   # Adjust max word size
scale_color_identity() +           # Use literal color values
theme_minimal() +                  # Clean background
labs(title = "Country Word Cloud (Colored by Group)") +
theme(plot.title = element_text(hjust = 0.5, face = "bold"))
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
# Assign colors to groups (customize as needed)
word_data <- word_data %>%
mutate(
color = case_when(
change_category == '1_big_decrease' ~ "#E6E6FA",  # Light purple (smallest)
change_category == '2_small_decrease' ~ "#ADD8E6",  # Light blue
change_category == '3_no_change' ~ "#90EE90",  # Light green
change_category == '4_small_improvement' ~ "#FFB6C1",  # Light pink
change_category == '5_big_improvement' ~ "#FFA07A"   # Light salmon (largest)
)
)
ggplot(
word_data,
aes(
label = country,
size = ratio_2023_2006,
color = color  # Color by group
)
) +
geom_text_wordcloud_area(          # Uses size to scale words
eccentricity = 1,                # Roundness (1 = circle)
shape = "circle"                 # Try "diamond", "triangle", etc.
) +
scale_size_area(max_size = 15) +   # Adjust max word size
scale_color_identity() +           # Use literal color values
theme_minimal() +                  # Clean background
labs(title = "Country Word Cloud (Colored by Group)") +
theme(plot.title = element_text(hjust = 0.5, face = "bold"))
View(word_data)
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
# Assign colors to groups (customize as needed)
word_data <- word_data %>%
mutate(
color = case_when(
change_category == '1_big_decrease' ~ "#E6E6FA",  # Light purple (smallest)
change_category == '2_small_decrease' ~ "#ADD8E6",  # Light blue
change_category == '3_no_change' ~ "#90EE90",  # Light green
change_category == '4_small_improvement' ~ "#FFB6C1",  # Light pink
change_category == '5_big_improvement' ~ "#FFA07A"   # Light salmon (largest)
)
)
ggplot(
word_data,
aes(
label = country,
size = ratio_2023_2006,
color = color  # Color by group
)
) +
geom_text_wordcloud_area(          # Uses size to scale words
eccentricity = 1,                # Roundness (1 = circle)
shape = "circle"                 # Try "diamond", "triangle", etc.
) +
scale_size_area(max_size = 15) +   # Adjust max word size
scale_color_identity() +           # Use literal color values
theme_minimal() +                  # Clean background
labs(title = "Country Word Cloud (Colored by Group)") +
theme(plot.title = element_text(hjust = 0.5, face = "bold"))
View(word_data)
View(word_data)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
View(word_data)
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
# Assign colors to groups (customize as needed)
word_data <- word_data %>%
mutate(
color = case_when(
change_category == '1_big_decrease' ~ "#E6E6FA",  # Light purple (smallest)
change_category == '2_small_decrease' ~ "#ADD8E6",  # Light blue
change_category == '3_no_change' ~ "#90EE90",  # Light green
change_category == '4_small_improvement' ~ "#FFB6C1",  # Light pink
change_category == '5_big_improvement' ~ "#FFA07A"   # Light salmon (largest)
)
)
ggplot(
word_data,
aes(
label = country,
size = ratio_2023_2006,
color = color  # Color by group
)
) +
geom_text_wordcloud_area(          # Uses size to scale words
eccentricity = 1,                # Roundness (1 = circle)
shape = "circle"                 # Try "diamond", "triangle", etc.
) +
scale_size_area(max_size = 15) +   # Adjust max word size
scale_color_identity() +           # Use literal color values
theme_minimal() +                  # Clean background
labs(title = "Country Word Cloud (Colored by Group)") +
theme(plot.title = element_text(hjust = 0.5, face = "bold"))
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
View(word_data)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
View(word_data)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
View(word_data)
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
?rm
rm(list = ls())
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_20006.csv"
word_data =read.csv(link)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
rm(list = ls())
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
word_data =read.csv(link)
ggplot(
word_data,
aes(
label = country_plot,
size = ratio_2023_2006,
color = change_level  # Color by group
)
) +
geom_text_wordcloud_area(          # Uses size to scale words
eccentricity = 1,                # Roundness (1 = circle)
shape = "circle"                 # Try "diamond", "triangle", etc.
) +
scale_size_area(max_size = 15) +   # Adjust max word size
# scale_color_identity() +           # Use literal color values
scale_color_steps2(
low = "orange",
mid = "white",
high = "darkgreen",
midpoint = 3
)+
theme_minimal() +                  # Clean background
labs(title = "Country Word Cloud (Colored by Group)") +
theme(plot.title = element_text(hjust = 0.5, face = "bold"))
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
rm(list = ls())
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
word_data =read.csv(link)
View(word_data)
View(word_data)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
rm(list = ls())
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
word_data =read.csv(link)
View(word_data)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
rm(list = ls())
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
word_data =read.csv(link)
ggplot(
word_data,
aes(
label = country_plot,
size = NumericSize,
color = change_level  # Color by group
)
) +
geom_text_wordcloud_area(          # Uses size to scale words
eccentricity = 1,                # Roundness (1 = circle)
shape = "circle"                 # Try "diamond", "triangle", etc.
) +
scale_size_area(max_size = 15) +   # Adjust max word size
# scale_color_identity() +           # Use literal color values
scale_color_steps2(
low = "magenta",
mid = "grey90",
high = "darkgreen",
midpoint = 3
)+
theme_minimal() +                  # Clean background
labs(title = "Country Word Cloud (Colored by Group)") +
theme(plot.title = element_text(hjust = 0.5, face = "bold"))
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
source("~/Documents/GITHUBs/UTDT/dataViz_2025/uniplot.R", echo=TRUE)
rm(list = ls())
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
fragility_data =read.csv(link)
View(fragility_data)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
fragility_data =read.csv(link)
rm(list = ls())
library(ggplot2)
library(ggwordcloud)
library(dplyr)  # For data manipulation
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
fragility_data =read.csv(link)
View(fragility_data)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
fragility_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
fragility_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
fragility_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
fragility_data =read.csv(link)
set.seed(123)  # For reproducibility
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragility_total_change2023_2006.csv"
fragility_data =read.csv(link)
View(fragility_data)
ggplot(fragility_data) + geom_bar(aes(x=change_category))
ggplot(fragility_data) + geom_bar(aes(x=change_category))+
geom_text(
aes(x = change_category, label = after_stat(count)),  # Use counts from stat
stat = "count",      # Calculate counts automatically
vjust = -0.5,       # Adjust vertical position (above bar)
color = "black",    # Text color
size = 3.5          # Text size
) +
labs(y = "Count", x = "Change Category") +
theme_minimal()
# Calculate counts and percentages
plot_data <- fragility_data %>%
count(change_category, name = "count") %>%
mutate(percentage = round(count / sum(count) * 100, 1))  # % with 1 decimal
ggplot(plot_data, aes(x = change_category, y = count)) +
geom_bar(stat = "identity", fill = "skyblue", alpha = 0.7) +  # Bar height = count
geom_text(
aes(label = paste0(percentage, "%")),  # Show % on bars
vjust = -0.5,                          # Position above bars
size = 4,
color = "black"
) +
labs(
x = "Change Category",
y = "Count",
title = "Counts (Y-axis) and Percentages (Bar Labels)"
) +
theme_minimal()
fragility_data %>%
count(change_category, name = "count") %>%
mutate(percent = sprintf("(%.1f%%)", count/sum(count)*100)) %>%
ggplot(aes(x = change_category, y = count)) +
geom_col(fill = "skyblue") +  # geom_col() is alias for geom_bar(stat="identity")
geom_text(
aes(label = paste(count, percent)),  # "Count (XX.X%)"
vjust = -0.5,  # Position above bars
size = 3.5
) +
labs(x = "Change Category", y = "Count") +
theme_minimal()
# Calculate counts and percentages
fragility_data %>%
count(change_category, name = "count") %>%
mutate(percent = sprintf("(%.1f%%)", count/sum(count)*100)) %>%
ggplot(aes(x = change_category, y = count)) +
geom_col(fill = "skyblue") +  # geom_col() is alias for geom_bar(stat="identity")
geom_text(
aes(label = paste(count, percent)),  # "Count (XX.X%)"
vjust = -0.5,  # Position above bars
size = 3.5
) +
labs(x = "Change Category", y = "Count") +
theme_void()
# Calculate counts and percentages
fragility_data %>%
count(change_category, name = "count") %>%
mutate(percent = sprintf("(%.1f%%)", count/sum(count)*100)) %>%
ggplot(aes(x = change_category, y = count)) +
geom_col(fill = "skyblue") +  # geom_col() is alias for geom_bar(stat="identity")
geom_text(
aes(label = paste(count, percent)),  # "Count (XX.X%)"
vjust = -0.5,  # Position above bars
size = 3.5
) +theme_void()+
labs(x = "Change Category", y = "Count")
# Calculate counts and percentages
fragility_data %>%
count(change_category, name = "count") %>%
mutate(percent = sprintf("(%.1f%%)", count/sum(count)*100)) %>%
ggplot(aes(x = change_category, y = count)) +
geom_col(fill = "skyblue") +  # geom_col() is alias for geom_bar(stat="identity")
geom_text(
aes(label = paste(count, percent)),  # "Count (XX.X%)"
vjust = -0.5,  # Position above bars
size = 3.5
) +
labs(x = "Change Category", y = "Count") +
theme_minimal()
# Calculate counts and percentages
fragility_data %>%
count(change_category, name = "count") %>%
mutate(percent = sprintf("(%.1f%%)", count/sum(count)*100)) %>%
ggplot(aes(x = change_category, y = count)) +
geom_col(fill = "skyblue") +  # geom_col() is alias for geom_bar(stat="identity")
geom_text(
aes(label = paste(count, percent)),  # "Count (XX.X%)"
vjust = -0.5,  # Position above bars
size = 3.5
) +
labs(x = NULL, y = NULL) +  # Removes axis titles
theme(
panel.grid = element_blank(),  # Remove all grid lines
axis.line.x = element_line(),  # Keep only x-axis line
axis.text.y = element_blank(), # Hide y-axis text
axis.ticks.y = element_blank(), # Hide y-axis ticks
panel.background = element_rect(fill = "white")  # Pure white background
)
?saveRDS
cloud1var <- readRDS("~/Documents/GITHUBs/UTDT/dataViz_2025/cloud1var.rds")
rm(list = ls())
cloud1var <- readRDS("~/Documents/GITHUBs/UTDT/dataViz_2025/cloud1var.rds")
cloud1var
linkMap="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragilitymap.gpkg"
library(sf)
border=sf::st_read(linkMap,, layer = "border")
?rm
rm(list = ls())
linkMap="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragilitymap.gpkg"
library(sf)
border=sf::st_read(linkMap,layer = "border")
fragilityMap=sf::st_read(linkMap, layer = "countries")
head(fragilityMap)
library(ggplot2)
ggplot() + geom_sf(data=border, color='grey') + geom_sf(data=fragilityMap, aes(fill=cluster_label))
rm(list = ls())
linkMap="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragilitymap.gpkg"
library(sf)
border=sf::st_read(linkMap,layer = "border")
fragilityMap=sf::st_read(linkMap, layer = "countries")
head(fragilityMap)
library(ggplot2)
ggplot() + geom_sf(data=border, color='grey') + geom_sf(data=fragilityMap, aes(fill=cluster_label))
ggplot() + theme_void() +
geom_sf(data=border, color='grey') + geom_sf(data=fragilityMap, aes(fill=cluster_label))
saveRDS(mapClus,file = 'mapClus.rds')
mapClus=ggplot() + theme_void() +
geom_sf(data=border, color='grey') + geom_sf(data=fragilityMap, aes(fill=cluster_label))
saveRDS(mapClus,file = 'mapClus.rds')
saveRDS(mapClus,file = 'mapClus.rds')
setwd("~/Documents/GITHUBs/UTDT/dataViz_2025")
saveRDS(mapClus,file = 'mapClus.rds')
link="https://github.com/Magallanes-at-UTDT/dataViz_2025/raw/refs/heads/main/fragilityVariabilityPerformance_2023_2006.csv"
varperf=read.csv(link)
head(varperf)
library(ggplot2)
ggplot(data=varperf) + geom_point(aes(x=p3_human_rights_performance,y=p3_human_rights_variability))
ggplot(data=varperf) + geom_point(aes(x=p3_human_rights_performance,y=p3_human_rights_variability,color=region))
ggplot(data=varperf) + geom_point(aes(x=p3_human_rights_performance,y=p3_human_rights_variability)) + facet_wrap(~region)
table(varperf$region)
americas=c('South America','Central America and the Caribbean','North America')
ggplot(data=varperf[varperf$region %in% americas,],aes(x=p3_human_rights_performance,y=p3_human_rights_variability)) +
geom_text(aes(label=country,color=region)) + theme(legend.position = "bottom")
ggplot(data=varperf[varperf$region %in% americas,],aes(x=p3_human_rights_performance,y=p3_human_rights_variability)) +
geom_text(aes(label=country),size=2) + facet_grid(region~.)
# install.packages("ggrepel")
library(ggrepel)
americas=c('South America','Central America and the Caribbean','North America')
bivar_americas=ggplot(data=varperf[varperf$region %in% americas,],aes(x=p3_human_rights_performance,y=p3_human_rights_variability)) + theme_light()+
geom_label_repel(aes(label=country,color=region)) + theme(legend.position = "bottom") +
geom_vline(xintercept = 0, color='grey') + scale_y_log10()
bivar_americas
farlands=c('South America','East and Southeast Asia')
bivar_farlands=ggplot(data=varperf[varperf$region %in% farlands,],aes(x=p3_human_rights_performance,y=p3_human_rights_variability)) + theme_light()+
geom_label_repel(aes(label=country,color=region,size=2),max.overlaps=20) + theme(legend.position = "bottom") +
geom_vline(xintercept = 0, color='grey') + scale_y_log10()
bivar_farlands
